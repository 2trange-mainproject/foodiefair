<!DOCTYPE html>
<html lang="en">

<head>

  <title>FoodieFair</title>
  <link href="@@webRoot/node_modules/tiny-slider/dist/tiny-slider.css" rel="stylesheet">
  <link href="@@webRoot/node_modules/nouislider/dist/nouislider.min.css" rel="stylesheet">
  @@include("../partials/head.html")
</head>

<body>

  @@include("../partials/navbar.html")
  <main>
  <!-- section-->
  <div class="mt-4">
    <div class="container">
      <!-- row -->
      <div class="row ">
        <!-- col -->
        <div class="col-12">
          <!-- breadcrumb -->
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0" style="font-size:20px;">
              <li class="breadcrumb-item"><a href="mypage" id="myPage">마이페이지</a></li>
              <li class="breadcrumb-item active" aria-current="page">찜 상품</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>
  <!-- section -->
  <div class=" mt-8 mb-lg-14 mb-8">
    <!-- container -->
    <div class="container">
      <!-- row -->
      <div class="row gx-10">
        <!-- col -->
        <aside class="col-lg-3 col-md-4 mb-6 mb-md-0">
          <div class="offcanvas offcanvas-start offcanvas-collapse w-md-50 " tabindex="-1" id="offcanvasCategory" aria-labelledby="offcanvasCategoryLabel">
            <div class="offcanvas-body ps-lg-2 pt-lg-0">
              <div class="mb-8 d-flex flex-column align-items-center text-center">
                <!-- 유저 이미지 -->
                <div class="position-relative mb-3" style="width: 150px; height: 150px; border: 1px solid black; border-radius: 50%; overflow: hidden;">
                  <img id="userImg" src="" alt="" class="position-absolute top-0 start-0 w-100 h-100 object-fit-cover rounded-circle">
                </div>
                <!-- 유저이미지 -->
                <!-- 유저 닉네임 -->
                <div>
                  <h4 class="mb-0" id="userName"></h4>
                </div>
                <!-- 유저 닉네임 -->
                <!-- 유저 대표 뱃지 -->
                <div class="justify-content-start">
                  <small class="text-warning" style="font-size: 14px;"> <i class="bi bi-star-fill"></i></small>
                  <span class="text-muted small" style="font-size: 14px;" id="userBadge"></span>
                </div>
                <!-- 유저 대표 뱃지 -->
                <!-- 유저 팔로우 -->
                <div id="userFollowDiv" class="mt-6">
                </div>
                <!-- 유저 팔로우 -->
                <!-- Follows Content -->
                <div>
                  <ul class="nav nav-pills nav-lb-tab justify-content-center flex-nowrap" role="tablist">
                    <li class="nav-item d-flex align-items-center flex-fill" role="presentation">
                      <a class="nav-link fs-6 text-nowrap" id="followers-tab" href="#" onclick="openPopup('follows', userId)" role="tab" aria-controls="followers-tab-pane" aria-selected="false">팔로워</a>
                    </li>
                    <li class="nav-item d-flex align-items-center flex-fill" role="presentation">
                      <a class="nav-link fs-6 text-nowrap" id="followings-tab" href="#" onclick="openPopup('follows', userId)" role="tab" aria-controls="followings-tab-pane" aria-selected="false">팔로잉</a>
                    </li>
                  </ul>
                </div>
                <!-- 팔로워 & 팔로잉 팝업 -->
                <script>
                  function openPopup(url, userId) {
                    const urlWithUserId = `${url}?userId=${userId}`;
                    window.open(urlWithUserId, "popupWindow", "width=800,height=600");
                  }
                </script>
                <!-- Follows Content -->
              </div>
            </div>
          </div>
        </aside>
        <section class="col-lg-9 col-md-12">
          <!-- card -->
          <div class="card mb-4 bg-light border-0">
            <!-- card body -->
            <div class=" card-body p-6">
              <h2 class="mb-0 fs-3">찜 상품</h2>
            </div>
          </div>
          <!-- list icon -->
          <div class="d-lg-flex justify-content-between align-items-center">
            <div class="mb-3 mb-lg-0">
              <p class="mb-0"> <span class="text-dark" id="productNum"></span> 개의 찜 상품 </p>
            </div>
          </div>
          <!-- 찜 상품  -->
          <div id ="saved-list" class="row g-4 row-cols-xl-4 row-cols-lg-3 row-cols-2 row-cols-md-2 mt-2"></div>
          <!-- 찜 상품  -->
          <div class="border-top d-md-flex justify-content-between align-items-center p-6">
            <nav class="mt-2 mt-md-0 ms-auto">
              <ul id="pagination" class="pagination mb-0">
              </ul>
            </nav>
          </div>
        </section>
      </div>
    </div>
  </div>
</main>

  <!-- modal -->
  @@include("../partials/modal-product.html")

  <!-- Footer -->
  @@include("../partials/footer.html")

  <!-- Javascript-->
  <script src="@@webRoot/assets/js/ajax/sendUserIds.js"></script>
  <script src="@@webRoot/node_modules/nouislider/dist/nouislider.min.js"></script>
  <script src="@@webRoot/node_modules/wnumb/wNumb.min.js"></script>
  @@include("../partials/scripts.html")
  <script src="@@webRoot/node_modules/tiny-slider/dist/min/tiny-slider.js"></script>
  <script src="@@webRoot/assets/js/vendors/tns-slider.js"></script>
  <script src="@@webRoot/assets/js/vendors/zoom.js"></script>
  <script src="@@webRoot/assets/js/vendors/increment-value.js"></script>
  <script src="@@webRoot/assets/js/ajax/mypage-saved.js"></script>
  <script src="@@webRoot/assets/js/ajax/mypage-follows.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  const myPage = document.getElementById('myPage');
  myPage.href = `${myPage.href}?userId=${userId}`;
</script>
</body>

</html>
